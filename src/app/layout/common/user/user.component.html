<!-- Button -->
<ng-container *ngIf="user">
  <button mat-icon-button [matMenuTriggerFor]="userActions">
    <span class="relative">
      <app-icon-image-first-letter
        [item]="user"
        [itemType]="'USER'"
        [width]="2"
        [height]="2"
        [fontSize]="1"
        [layoutType]="'ROUND'"
      ></app-icon-image-first-letter>
    </span>
  </button>

  <mat-menu [xPosition]="'before'" #userActions="matMenu">
    <div class="flex flex-col leading-none p-3">
      <span class="text-sm">{{ 'USER_NAV.SIGNED_IN_AS' | transloco }}</span>
      <span class="mt-1.5 text-md font-medium">{{ user.email }}</span>
    </div>

    <mat-divider class="my-2"></mat-divider>
    <a mat-menu-item [routerLink]="[basePath + '/settings']" routerLinkActive="router-link-active">
      <mat-icon [svgIcon]="'heroicons_outline:user-circle'"></mat-icon>
      <span>{{ 'USER_NAV.PROFILE' | transloco }}</span>
    </a>
    <a mat-menu-item [routerLink]="[basePath + '/settings']">
      <mat-icon [svgIcon]="'heroicons_outline:cog'"></mat-icon>
      <span>{{ 'USER_NAV.SETTINGS' | transloco }}</span>
    </a>

    <mat-divider class="my-2"></mat-divider>
    <button mat-menu-item (click)="signOut()">
      <mat-icon [svgIcon]="'mat_solid:logout'"></mat-icon>
      <span>{{ 'USER_NAV.SIGN_OUT' | transloco }}</span>
    </button>
  </mat-menu>
</ng-container>
