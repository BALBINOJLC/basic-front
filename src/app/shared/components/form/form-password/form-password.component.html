<div [formGroup]="form" class="flex flex-wrap w-full">
  <mat-form-field class="w-full">
    <mat-label>{{ labelPassword | transloco }}</mat-label>
    <mat-icon class="mr-2" [svgIcon]="'mat_solid:lock'"></mat-icon>
    <input matInput type="password" [formControlName]="'password'" #passwordField />
    <button
      mat-icon-button
      type="button"
      (click)="passwordField.type === 'password' ? (passwordField.type = 'text') : (passwordField.type = 'password')"
      matSuffix
    >
      <mat-icon class="icon-size-5" *ngIf="passwordField.type === 'password'" [svgIcon]="'heroicons_solid:eye'"></mat-icon>
      <mat-icon class="icon-size-5" *ngIf="passwordField.type === 'text'" [svgIcon]="'heroicons_solid:eye-slash'"></mat-icon>
    </button>
    <mat-error *ngIf="passwordControl.touched && passwordControl.hasError('required')">
      {{ 'FORMS.ERRORS.REQUIRED' | transloco }}
    </mat-error>
    <mat-error *ngIf="passwordControl.touched && !passwordControl.hasError('required') && passwordControl.hasError('passwordValid')">
      {{ 'FORMS.ERRORS.PASSWORD_VALID' | transloco }}
    </mat-error>
  </mat-form-field>
  <mat-form-field *ngIf="showConfirm" class="w-full">
    <mat-label>{{ 'AUTH.FORMS.CONFIRM_PASSWORD' | transloco }}</mat-label>
    <mat-icon class="mr-2" [svgIcon]="'mat_solid:lock'"></mat-icon>

    <input matInput type="password" [formControlName]="'passwordConfirm'" #passwordConfirmField />
    <button
      mat-icon-button
      type="button"
      (click)="passwordConfirmField.type === 'password' ? (passwordConfirmField.type = 'text') : (passwordConfirmField.type = 'password')"
      matSuffix
    >
      <mat-icon class="icon-size-5" *ngIf="passwordField.type === 'password'" [svgIcon]="'heroicons_solid:eye'"></mat-icon>
      <mat-icon class="icon-size-5" *ngIf="passwordField.type === 'text'" [svgIcon]="'heroicons_solid:eye-slash'"></mat-icon>
    </button>
    <mat-error *ngIf="passwordConfirm.touched && passwordConfirm.hasError('required')">
      {{ 'FORMS.ERRORS.REQUIRED' | transloco }}
    </mat-error>
    <mat-error *ngIf="passwordConfirm.touched && passwordConfirm.hasError('noIgual')">
      {{ 'FORMS.ERRORS.PASSWORDS_DONT_MATCH' | transloco }}
    </mat-error>
  </mat-form-field>
</div>
